{% extends 'base.html' %}
{% block meta %}
<title>Stores Selling {{ product.product_name }}</title>
{% endblock meta %}
{% block content %}
{% include 'navbar_buyer.html' %}

<div class="bg-red-700 pt-28 md:pt-20">
    <section class="flex justify-center py-5">
        <h2 class="text-3xl font-bold text-white">Stores Selling {{ product.product_name }}</h2>
    </section>

    <!-- Seller List -->
    <section class="flex flex-col items-center gap-5 py-8 bg-white rounded-t-lg min-h-screen">
        <div class="w-10/12 max-w-4xl space-y-4 flex-grow">
            {% for item in sellers_with_prices %}
            <div class="bg-gray-100 p-6 rounded-lg flex items-start shadow-lg transition duration-200 hover:shadow-xl hover:-translate-y-1">
                <!-- Seller Image -->
                <img src="{{ item.seller.profile_picture }}" alt="Seller Image" class="w-28 h-28 rounded-lg object-cover shadow-lg border-2 border-gray-300 flex-shrink-0 transition-transform duration-200 hover:scale-105">
            
                <!-- Seller Details -->
                <div class="ml-6 flex-grow">
                    <h1 class="text-2xl font-semibold text-gray-800 mb-2">{{ item.seller.store_name }}</h1>
                    
                    <!-- Product Price -->
                    <p class="text-gray-700 text-lg">Price: Rp.{{ item.price }}</p>
                    
                    <!-- Seller Address -->
                    <p class="text-gray-600 text-sm mt-4">{{ item.seller.address }}, {{ item.seller.village }}, {{ item.seller.subdistrict }}, {{ item.seller.city }}</p>
                </div>
            
                <!-- Google Maps Link -->
                <div class="ml-6">
                    <a href="{{ item.seller.maps }}" target="_blank" class="text-red-600 hover:text-red-400 transition duration-200" aria-label="View on Google Maps">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 2C8.134 2 5 5.134 5 9c0 7.5 7 13 7 13s7-5.5 7-13c0-3.866-3.134-7-7-7zm0 9a2 2 0 100-4 2 2 0 000 4z"/>
                        </svg>
                    </a>
                </div>
            </div>
            {% empty %}
            <div class="bg-gray-100 p-6 rounded-lg flex items-center justify-center shadow-lg">
                <h2 class="text-xl font-semibold text-gray-600">No stores available for this product.</h2>
            </div>
            {% endfor %}
        </div>
    </section>
</div>

<!-- Footer -->
{% include 'footer_buyer.html' %}
{% endblock %}
